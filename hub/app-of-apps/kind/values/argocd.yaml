# ArgoCD values for Kind hub (GitOps-managed)
#
# This is the ongoing config - changes here are synced by ArgoCD.
# The bootstrap values file is only used for initial install.
#
# ENVIRONMENT CONFIG: If changing Kind network, also update:
#   - manifests/metallb-config/kustomization.yaml (POOL_RANGE)
#   - values/dns-stack.yaml (loadBalancerIP)
#   - hub/bootstrap/argocd-values-kind.yaml (loadBalancerIP)
#   - kind/Taskfile.yaml (DNS_IP)

server:
  service:
    type: LoadBalancer
    # Must be within MetalLB pool range (see manifests/metallb-config/kustomization.yaml)
    loadBalancerIP: 172.19.255.201  # ArgoCD gets .201, DNS gets .200

# Webhook Configuration
# GitHub webhook secret - must match the secret configured in GitHub repo settings
# Store in OpenBao: task kind:secret -- github/argocd-webhook secret=<your-secret>
configs:
  secret:
    # Reference webhook secret from argocd-webhook-secret Secret (created by ExternalSecret)
    # If not using ESO, set directly: githubSecret: "your-webhook-secret"
    extra:
      webhook.github.secret: $argocd-webhook-secret:webhook-secret
