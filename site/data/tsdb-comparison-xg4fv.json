{
  "name": "tsdb-comparison-xg4fv",
  "namespace": "experiments",
  "description": "TSDB comparison - Prometheus vs VictoriaMetrics vs Mimir resource efficiency and query performance",
  "createdAt": "2026-02-10T00:25:44Z",
  "completedAt": "2026-02-10T02:27:43.021987178Z",
  "durationSeconds": 7319.021987178,
  "phase": "Complete",
  "tags": [
    "comparison",
    "observability",
    "metrics"
  ],
  "project": "this-lab",
  "targets": [
    {
      "name": "app",
      "clusterName": "tsdb-comparison-xg4fv-app",
      "clusterType": "gke"
    }
  ],
  "workflow": {
    "name": "tsdb-comparison-xg4fv-validation",
    "template": "tsdb-comparison-validation",
    "phase": "Succeeded",
    "startedAt": "2026-02-10T00:48:02Z",
    "finishedAt": "2026-02-10T02:24:12Z"
  },
  "metrics": {
    "collectedAt": "2026-02-10T02:27:43.021993594Z",
    "timeRange": {
      "start": "2026-02-10T00:25:44Z",
      "end": "2026-02-10T02:27:43.021987178Z",
      "duration": "2h1m59.021987178s",
      "stepSeconds": 300
    },
    "queries": {
      "cpu_usage": {
        "query": "sum(rate(container_cpu_usage_seconds_total{experiment=\"tsdb-comparison-xg4fv\"}[1m]))",
        "type": "range",
        "unit": "cores",
        "description": "Total CPU usage"
      },
      "memory_usage": {
        "query": "sum(container_memory_working_set_bytes{experiment=\"tsdb-comparison-xg4fv\"})",
        "type": "range",
        "unit": "bytes",
        "description": "Total memory working set"
      }
    }
  },
  "costEstimate": {
    "totalUSD": 0.040661233262100006,
    "durationHours": 2.033061663105,
    "perTarget": {
      "app": 0.040661233262100006
    },
    "note": "Rough estimate based on on-demand GCE pricing; actual cost may differ."
  },
  "analysis": {
    "summary": "This experiment compared Prometheus, VictoriaMetrics, and Mimir for resource efficiency and query performance over a 2-hour runtime. The experiment completed successfully with a total cost of $0.041 USD. CPU usage averaged around 0.5-1 cores total across all TSDB instances, while memory consumption remained stable throughout the test period.",
    "metricInsights": {
      "cpu_usage": "CPU consumption across all three time-series databases remained relatively low and consistent at under 1 core combined, indicating efficient resource utilization for the workload tested.",
      "memory_usage": "Memory working set showed stable allocation patterns throughout the 2-hour experiment, suggesting predictable memory footprints under the tested query and ingestion load."
    },
    "recommendations": [
      "Include query latency metrics (p50, p95, p99) to properly assess query performance differences between the three TSDBs",
      "Add per-TSDB resource breakdowns (cpu_usage and memory_usage labeled by instance) to identify which database is most efficient",
      "Extend experiment duration to 6-12 hours to capture long-term resource trends and compaction behavior"
    ],
    "generatedAt": "2026-02-10T02:27:59Z",
    "model": "claude-opus-4-6"
  }
}
