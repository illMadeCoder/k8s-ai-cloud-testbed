{
  "name": "logging-comparison-nkbf8",
  "namespace": "experiments",
  "description": "Loki vs Elasticsearch logging comparison â€” steady-state resource usage under controlled log volume (iteration 2: fixed ES deployment, 2h observation window, upgraded node)",
  "createdAt": "2026-02-12T07:41:14Z",
  "completedAt": "2026-02-12T09:53:27.352988487Z",
  "durationSeconds": 7933.352988487,
  "phase": "Complete",
  "tags": [
    "comparison",
    "observability",
    "logging"
  ],
  "project": "this-lab",
  "study": {
    "hypothesis": "Loki will use significantly fewer resources than Elasticsearch for equivalent log ingestion volume because it indexes only labels rather than full log content, but Elasticsearch will offer richer full-text query capabilities because its inverted index enables arbitrary field searches that LogQL's label-based filtering cannot match",
    "questions": [
      "What is the CPU and memory overhead difference between Loki and Elasticsearch at steady-state log ingestion?",
      "How do LogQL and Lucene/KQL compare for common operational log queries?",
      "Which stack is more cost-effective for a small-to-medium Kubernetes cluster?"
    ],
    "focus": [
      "resource efficiency",
      "query capability",
      "storage architecture",
      "operational complexity"
    ]
  },
  "targets": [
    {
      "name": "app",
      "clusterName": "logging-comparison-nkbf8-app",
      "clusterType": "gke",
      "machineType": "e2-standard-8",
      "nodeCount": 1
    }
  ],
  "workflow": {
    "name": "logging-comparison-nkbf8-validation",
    "template": "logging-comparison-validation",
    "phase": "Succeeded",
    "startedAt": "2026-02-12T07:53:01Z",
    "finishedAt": "2026-02-12T09:53:25Z"
  },
  "metrics": {
    "collectedAt": "2026-02-12T09:53:27.522778375Z",
    "source": "target:cadvisor",
    "timeRange": {
      "start": "2026-02-12T07:41:14Z",
      "end": "2026-02-12T09:53:27.522778375Z",
      "duration": "2h12m13.522778375s",
      "stepSeconds": 0
    },
    "queries": {
      "cpu_by_pod": {
        "query": "container_cpu_usage_seconds_total by pod (cadvisor)",
        "type": "instant",
        "unit": "cores",
        "description": "CPU usage by pod (cumulative seconds)",
        "data": [
          {
            "labels": {
              "pod": "kube-state-metrics-0"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 4.626156
          },
          {
            "labels": {
              "pod": "loki-canary-clpxl"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 62.417557
          },
          {
            "labels": {
              "pod": "operator-64d66c8747-j6c7p"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 8.569362
          },
          {
            "labels": {
              "pod": "elasticsearch-master-0"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 131.22993
          },
          {
            "labels": {
              "pod": "log-generator-7bdc6bdb75-8wk6r"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 19.77989
          },
          {
            "labels": {
              "pod": "loki-gateway-7b8f5d7bf9-2pr8q"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 0.858434
          },
          {
            "labels": {
              "pod": "promtail-dfnvk"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 127.366561
          },
          {
            "labels": {
              "pod": "ts-vm-hub-ngdm4-0"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 3.823126
          },
          {
            "labels": {
              "pod": "alloy-gf49m"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 24.506484
          },
          {
            "labels": {
              "pod": "fluent-bit-vnjzd"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 15.979238
          }
        ]
      },
      "cpu_total": {
        "query": "sum(container_cpu_usage_seconds_total) (cadvisor)",
        "type": "instant",
        "unit": "cores",
        "description": "Total CPU usage (cumulative seconds)",
        "data": [
          {
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 399.156738
          }
        ]
      },
      "memory_by_pod": {
        "query": "container_memory_working_set_bytes by pod (cadvisor)",
        "type": "instant",
        "unit": "bytes",
        "description": "Memory working set by pod",
        "data": [
          {
            "labels": {
              "pod": "loki-gateway-7b8f5d7bf9-2pr8q"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 12353536
          },
          {
            "labels": {
              "pod": "operator-64d66c8747-j6c7p"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 26796032
          },
          {
            "labels": {
              "pod": "ts-vm-hub-ngdm4-0"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 28368896
          },
          {
            "labels": {
              "pod": "alloy-gf49m"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 45334528
          },
          {
            "labels": {
              "pod": "log-generator-7bdc6bdb75-8wk6r"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 4820992
          },
          {
            "labels": {
              "pod": "loki-canary-clpxl"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 15740928
          },
          {
            "labels": {
              "pod": "promtail-dfnvk"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 54525952
          },
          {
            "labels": {
              "pod": "elasticsearch-master-0"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 1486958592
          },
          {
            "labels": {
              "pod": "fluent-bit-vnjzd"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 16404480
          },
          {
            "labels": {
              "pod": "kube-state-metrics-0"
            },
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 30846976
          }
        ]
      },
      "memory_total": {
        "query": "sum(container_memory_working_set_bytes) (cadvisor)",
        "type": "instant",
        "unit": "bytes",
        "description": "Total memory working set",
        "data": [
          {
            "timestamp": "2026-02-12T09:53:27.522778375Z",
            "value": 1722150912
          }
        ]
      }
    }
  },
  "costEstimate": {
    "totalUSD": 0.11811881116191757,
    "durationHours": 2.203709163468611,
    "perTarget": {
      "app": 0.11811881116191757
    },
    "note": "Rough estimate based on on-demand GCE pricing; actual cost may differ."
  }
}