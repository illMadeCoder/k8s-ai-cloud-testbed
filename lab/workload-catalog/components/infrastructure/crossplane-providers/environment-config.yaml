---
# EnvironmentConfig for automatic composition selection
# This resource stores cluster metadata that compositions use to select
# the correct cloud-specific implementation automatically
#
# Deploy one of these to each cluster:
# - For Azure clusters: set cloud: azure
# - For AWS clusters: set cloud: aws
# - For minikube: set cloud: local
#
# Compositions reference this to automatically select Azure or AWS resources
# without the experiment author needing to specify the cloud provider
apiVersion: apiextensions.crossplane.io/v1alpha1
kind: EnvironmentConfig
metadata:
  name: cluster-info
  annotations:
    argocd.argoproj.io/sync-wave: "3"
data:
  # Cloud provider - determines which composition is selected
  # Values: azure, aws, local
  cloud: azure

  # Region/location for resource placement
  region: eastus

  # Environment tier (affects sizing, redundancy)
  # Values: dev, staging, prod
  environment: dev

  # Experiment name (optional - can be used for resource naming)
  experiment: ""

  # Resource naming prefix
  resourcePrefix: illm
