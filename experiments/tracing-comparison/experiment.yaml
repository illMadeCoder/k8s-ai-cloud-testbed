apiVersion: experiments.illm.io/v1alpha1
kind: Experiment
metadata:
  generateName: tracing-comparison-
  namespace: experiments
spec:
  description: "Tempo vs Jaeger tracing comparison - architecture, query languages, features"
  tags: ["comparison", "observability", "tracing"]
  publish: true
  ttlDays: 7

  analysis:
    sections:
      - abstract
      - targetAnalysis
      - performanceAnalysis
      - metricInsights
      - finopsAnalysis
      - secopsAnalysis
      - body
      - capabilitiesMatrix
      - feedback
      - architectureDiagram

  study:
    hypothesis: "Tempo will use fewer resources than Jaeger because it writes traces directly to object storage without an indexing layer, avoiding the CPU and memory overhead of Elasticsearch or Cassandra that Jaeger requires, while Jaeger will provide a more mature query UI because its longer ecosystem tenure has produced richer search, comparison, and dependency graph tooling"
    questions:
      - "What is the resource overhead of each tracing backend under equivalent trace volume?"
      - "How do TraceQL and Jaeger's query API compare for operational debugging workflows?"
      - "What are the storage architecture trade-offs (object storage vs. Elasticsearch/Cassandra)?"
    focus:
      - "resource efficiency"
      - "query capability"
      - "storage backend architecture"
      - "OTLP ingestion compatibility"

  targets:
    - name: app
      cluster:
        type: gke
        machineType: e2-standard-4
        preemptible: true
      observability:
        enabled: true
        transport: tailscale
      components:
        - app: otel-collector
        - app: tempo
        - app: jaeger
        - app: otel-demo

  workflow:
    template: tracing-comparison-validation
    completion:
      mode: workflow
