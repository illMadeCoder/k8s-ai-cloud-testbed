---
# GCP Provider Family + Individual Providers (CRD-only)
#
# Architecture:
# - provider-family-gcp: Runs the controller, handles ALL GCP API calls
# - Individual providers: Install CRDs only (replicas: 0), no controller pods
#
# This saves significant CPU/memory on resource-constrained clusters.
---
# Family provider - this is the ONLY one that runs a controller pod
apiVersion: pkg.crossplane.io/v1
kind: Provider
metadata:
  name: provider-family-gcp
spec:
  package: xpkg.upbound.io/upbound/provider-family-gcp:v2.4.0
  runtimeConfigRef:
    apiVersion: pkg.crossplane.io/v1beta1
    kind: DeploymentRuntimeConfig
    name: gcp-runtime-config
---
# Cloud Storage (object storage) - CRDs only
apiVersion: pkg.crossplane.io/v1
kind: Provider
metadata:
  name: provider-gcp-storage
spec:
  package: xpkg.upbound.io/upbound/provider-gcp-storage:v2.4.0
  runtimeConfigRef:
    apiVersion: pkg.crossplane.io/v1beta1
    kind: DeploymentRuntimeConfig
    name: gcp-crd-only
---
# GKE (Kubernetes clusters) - CRDs only
apiVersion: pkg.crossplane.io/v1
kind: Provider
metadata:
  name: provider-gcp-container
spec:
  package: xpkg.upbound.io/upbound/provider-gcp-container:v2.4.0
  runtimeConfigRef:
    apiVersion: pkg.crossplane.io/v1beta1
    kind: DeploymentRuntimeConfig
    name: gcp-crd-only
---
# Cloud SQL (PostgreSQL, MySQL) - CRDs only
apiVersion: pkg.crossplane.io/v1
kind: Provider
metadata:
  name: provider-gcp-sql
spec:
  package: xpkg.upbound.io/upbound/provider-gcp-sql:v2.4.0
  runtimeConfigRef:
    apiVersion: pkg.crossplane.io/v1beta1
    kind: DeploymentRuntimeConfig
    name: gcp-crd-only
---
# Memorystore (Redis) - CRDs only
apiVersion: pkg.crossplane.io/v1
kind: Provider
metadata:
  name: provider-gcp-redis
spec:
  package: xpkg.upbound.io/upbound/provider-gcp-redis:v2.4.0
  runtimeConfigRef:
    apiVersion: pkg.crossplane.io/v1beta1
    kind: DeploymentRuntimeConfig
    name: gcp-crd-only
---
# Pub/Sub (message queues) - CRDs only
apiVersion: pkg.crossplane.io/v1
kind: Provider
metadata:
  name: provider-gcp-pubsub
spec:
  package: xpkg.upbound.io/upbound/provider-gcp-pubsub:v2.4.0
  runtimeConfigRef:
    apiVersion: pkg.crossplane.io/v1beta1
    kind: DeploymentRuntimeConfig
    name: gcp-crd-only
---
# Cloud DNS - CRDs only
apiVersion: pkg.crossplane.io/v1
kind: Provider
metadata:
  name: provider-gcp-dns
spec:
  package: xpkg.upbound.io/upbound/provider-gcp-dns:v2.4.0
  runtimeConfigRef:
    apiVersion: pkg.crossplane.io/v1beta1
    kind: DeploymentRuntimeConfig
    name: gcp-crd-only
---
# Compute Engine (VPC, Subnets, Firewall) - CRDs only
apiVersion: pkg.crossplane.io/v1
kind: Provider
metadata:
  name: provider-gcp-compute
spec:
  package: xpkg.upbound.io/upbound/provider-gcp-compute:v2.4.0
  runtimeConfigRef:
    apiVersion: pkg.crossplane.io/v1beta1
    kind: DeploymentRuntimeConfig
    name: gcp-crd-only
