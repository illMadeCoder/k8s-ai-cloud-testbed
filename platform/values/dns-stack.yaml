# k8s_gateway values for Talos hub
#
# Provides DNS resolution for LoadBalancer and Ingress resources.
# Query: dig @<service-ip> <service>.<namespace>.k8s.local
#
# When kube-vip is deployed, switch to LoadBalancer with IP 192.168.1.240.

# Domain served by this DNS server
domain: k8s.local

# Watch all namespaces for Services/Ingresses
watchedResources:
  - Ingress
  - Service

# ClusterIP until kube-vip is deployed
# Switch to LoadBalancer with loadBalancerIP: 192.168.1.240 when available
service:
  type: ClusterIP
  port: 53

# Fallback DNS for non-k8s.local queries
fallthrough:
  enabled: true
  zones:
    - .
