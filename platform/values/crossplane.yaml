# Crossplane Helm values for Talos hub
#
# Single-node control-plane deployment. Providers will be
# installed separately to provision cloud infrastructure.

# Allow scheduling on control-plane node (single-node cluster)
tolerations:
  - key: node-role.kubernetes.io/control-plane
    operator: Exists
    effect: NoSchedule

# Resource limits for Talos N100
resourcesCrossplane:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi

resourcesRBACManager:
  requests:
    cpu: 50m
    memory: 128Mi
  limits:
    cpu: 200m
    memory: 256Mi

# Enable leader election for HA (even in dev, good practice)
leaderElection: true

# Metrics for observability
metrics:
  enabled: true

# Debug logging for local development - remove for production
# args:
#   - --debug

# Disable default MRAP that activates all MRDs ('*')
# We'll create explicit MRAPs to activate only what we need
# See: https://docs.crossplane.io/latest/managed-resources/managed-resource-activation-policies/
provider:
  defaultActivations: {}
