---
# ProviderConfigs for installed providers
#
# These configs use Secret-based auth for local development.
# The secrets are synced from OpenBao via ExternalSecrets.
#
# NOTE: Only include configs for providers that are actually installed.
# AWS/Azure configs are commented out until those providers are added.
---
# Helm ProviderConfig (in-cluster)
apiVersion: helm.crossplane.io/v1beta1
kind: ProviderConfig
metadata:
  name: helm-incluster
spec:
  credentials:
    source: InjectedIdentity
---
# Kubernetes ProviderConfig (in-cluster)
apiVersion: kubernetes.crossplane.io/v1alpha1
kind: ProviderConfig
metadata:
  name: kubernetes-incluster
spec:
  credentials:
    source: InjectedIdentity
---
# GCP ProviderConfig (Secret-based for local dev)
# Secret synced from OpenBao: secret/cloud/gcp
apiVersion: gcp.upbound.io/v1beta1
kind: ProviderConfig
metadata:
  name: default
spec:
  credentials:
    source: Secret
    secretRef:
      namespace: crossplane-system
      name: gcp-credentials
      key: credentials
  projectID: illm-k8s-ai-lab
# ---
# # Azure ProviderConfig - uncomment when provider-family-azure is installed
# apiVersion: azure.upbound.io/v1beta1
# kind: ProviderConfig
# metadata:
#   name: default
# spec:
#   credentials:
#     source: Secret
#     secretRef:
#       namespace: crossplane-system
#       name: azure-credentials
#       key: credentials
# ---
# # AWS ProviderConfig - uncomment when provider-family-aws is installed
# apiVersion: aws.upbound.io/v1beta1
# kind: ProviderConfig
# metadata:
#   name: default
# spec:
#   credentials:
#     source: Secret
#     secretRef:
#       namespace: crossplane-system
#       name: aws-credentials
#       key: credentials
