# ArgoCD Helm values
# Minimal config for lab use - tune as needed

server:
  service:
    type: NodePort  # Easy access in minikube, change to LoadBalancer for cloud

# Bootstrap all applications via app-of-apps pattern
# This creates the app-of-apps Application during Helm install
applications:
  app-of-apps:
    namespace: argocd
    finalizers:
      - resources-finalizer.argocd.argoproj.io
    source:
      repoURL: https://github.com/illMadeCoder/illm-k8s-lab.git
      targetRevision: HEAD
      path: manifests/argocd/applications
      directory:
        exclude: 'app-of-apps.yaml'
    destination:
      server: https://kubernetes.default.svc
      namespace: argocd
    syncPolicy:
      automated:
        prune: true
        selfHeal: true
